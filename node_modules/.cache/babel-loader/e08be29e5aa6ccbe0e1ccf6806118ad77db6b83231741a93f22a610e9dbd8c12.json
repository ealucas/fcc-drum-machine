{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../css/DrumMachine.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DrumMachine=()=>{const[activeKey,setActiveKey]=useState('');const buttons=[{id:'heater-1',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-1.mp3',key:'Q'},{id:'heater-2',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-2.mp3',key:'W'},{id:'heater-3',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-3.mp3',key:'E'},{id:'heater-4',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-4_1.mp3',key:'A'},{id:'clap',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-6.mp3',key:'S'},{id:'open-hh',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Dsc_Oh.mp3',key:'D'},{id:'kick-n-hat',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Kick_n_Hat.mp3',key:'Z'},{id:'kick',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/RP4_KICK_1.mp3',key:'X'},{id:'closed-hh',url:'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Cev_H2.mp3',key:'C'}];const playAudio=key=>{const audioElement=document.getElementById(key);if(audioElement){try{if(!audioElement.paused){audioElement.pause();audioElement.currentTime=0;}audioElement.play().then(()=>{setActiveKey(key);setTimeout(()=>setActiveKey(''),200);}).catch(error=>{console.error('Error playing audio:',error);});}catch(error){console.error('Unexpected error:',error);}}};useEffect(()=>{const handleKeyDown=event=>{const key=event.key.toUpperCase();if(buttons.some(button=>button.key===key)){playAudio(key);}};window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};},[buttons]);const activeButton=buttons.find(btn=>btn.key===activeKey);return/*#__PURE__*/_jsxs(\"div\",{id:\"drum-machine\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"display\",children:activeButton?activeButton.id:''}),buttons.map(audio=>/*#__PURE__*/_jsxs(\"button\",{id:audio.id,className:\"drum-pad \".concat(activeKey===audio.key?'active':''),onClick:()=>playAudio(audio.key),children:[audio.key,/*#__PURE__*/_jsx(\"audio\",{src:audio.url,id:audio.key,className:\"clip\"})]},audio.key))]});};export default DrumMachine;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","DrumMachine","activeKey","setActiveKey","buttons","id","url","key","playAudio","audioElement","document","getElementById","paused","pause","currentTime","play","then","setTimeout","catch","error","console","handleKeyDown","event","toUpperCase","some","button","window","addEventListener","removeEventListener","activeButton","find","btn","children","map","audio","className","concat","onClick","src"],"sources":["/home/lucas/stuff/code/fcc/drum-machine/src/components/DrumMachine.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../css/DrumMachine.css'\n\nconst DrumMachine = () => {\n  const [activeKey, setActiveKey] = useState('');\n  const buttons = [\n    { id: 'heater-1', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-1.mp3', key: 'Q' },\n    { id: 'heater-2', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-2.mp3', key: 'W' },\n    { id: 'heater-3', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-3.mp3', key: 'E' },\n    { id: 'heater-4', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-4_1.mp3', key: 'A' },\n    { id: 'clap', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Heater-6.mp3', key: 'S' },\n    { id: 'open-hh', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Dsc_Oh.mp3', key: 'D' },\n    { id: 'kick-n-hat', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Kick_n_Hat.mp3', key: 'Z' },\n    { id: 'kick', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/RP4_KICK_1.mp3', key: 'X' },\n    { id: 'closed-hh', url: 'https://cdn.freecodecamp.org/testable-projects-fcc/audio/Cev_H2.mp3', key: 'C' },\n  ];\n\n  const playAudio = (key) => {\n    const audioElement = document.getElementById(key);\n    if (audioElement) {\n      try {\n        if (!audioElement.paused) {\n\n          audioElement.pause();\n          audioElement.currentTime = 0; \n        }\n        audioElement\n          .play()\n          .then(() => {\n            setActiveKey(key); \n            setTimeout(() => setActiveKey(''), 200);\n          })\n          .catch((error) => {\n            console.error('Error playing audio:', error);\n          });\n      } catch (error) {\n        console.error('Unexpected error:', error);\n      }\n    }\n  };\n  \n  useEffect(() => {\n  const handleKeyDown = (event) => {\n    const key = event.key.toUpperCase();\n    if (buttons.some((button) => button.key === key)) {\n      playAudio(key);\n    }\n  };\n\n  window.addEventListener('keydown', handleKeyDown);\n\n  return () => {\n    window.removeEventListener('keydown', handleKeyDown);\n  };\n}, [buttons]);\n  const activeButton = buttons.find((btn) => btn.key === activeKey)\n  return (\n    <div id=\"drum-machine\">\n      <div id=\"display\">{ activeButton ? activeButton.id : '' }\n      </div>\n      {buttons.map((audio) => (\n        <button\n          key={audio.key}\n          id={audio.id}\n          className={`drum-pad ${activeKey === audio.key ? 'active' : ''}`}\n          onClick={() => playAudio(audio.key)}\n        >\n          {audio.key}\n          <audio src={audio.url} id={audio.key} className=\"clip\" />\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default DrumMachine;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}